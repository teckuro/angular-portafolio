<div class="container">
	<!-- Theme Toggle -->
	<app-theme-toggle></app-theme-toggle>
	
	<!-- Indicador de carga -->
	<div class="loading-container" *ngIf="loading">
		<div class="loading-message">
			<h3>Cargando portafolio...</h3>
			<div class="loading-spinner"></div>
		</div>
	</div>

	<!-- Mensaje de error -->
	<div class="error-container" *ngIf="error">
		<div class="error-message">
			<h3>Error al cargar el portfolio</h3>
			<p>{{ error }}</p>
			<button class="retry-btn" (click)="loadData()">Reintentar</button>
		</div>
	</div>

	<!-- Contenido principal -->
	<div class="content-wrapper" *ngIf="!loading && !error">
		<!-- Header con navegación -->
		<header [class.header-visible]="headerVisible">
			<div class="header-content">
				<!-- Información personal -->
				<div class="header-content-info">
					<h1>Juan Pablo</h1>
					<p>Desarrollador Full Stack</p>
				</div>

				<!-- Navegación principal -->
				<nav class="main-nav">
					<ul>
						<li>
							<a
								(click)="scrollToSection('about')"
								[ngClass]="{ active: activeSection === 'about' }"
							>
								<span>Sobre Mi</span>
							</a>
						</li>
						<li>
							<a
								(click)="scrollToSection('work')"
								[ngClass]="{ active: activeSection === 'work' }"
							>
								<span>Experiencia</span>
							</a>
						</li>
						<li>
							<a
								(click)="scrollToSection('projects')"
								[ngClass]="{ active: activeSection === 'projects' }"
							>
								<span>Proyectos</span>
							</a>
						</li>
					</ul>
				</nav>

				<!-- Redes sociales -->
				<div class="header-social-media">
					<div class="social-media-content">
						<a
							href="https://www.linkedin.com/in/jphuerta1/"
							target="_blank"
							(click)="trackSocialClick('linkedin')"
						>
							<img src="../../../assets/img/linkedin.svg" alt="LinkedIn" />
						</a>
						<a
							href="https://github.com/teckuro"
							target="_blank"
							(click)="trackSocialClick('github')"
						>
							<img src="../../../assets/img/github.svg" alt="GitHub" />
						</a>
					</div>
				</div>
			</div>
		</header>

		<!-- Contenido principal -->
		<main>
			<!-- Sección Sobre Mí -->
			<section id="about" class="about" #section>
				<div class="about-content" [class]="getAnimationClasses('about')">
					<h2>Sobre Mí</h2>
					<div class="about-description">
						<p class="about-intro">
							Desarrollador Full Stack con 4 años creando soluciones en PHP,
							Laravel, JavaScript y Angular. He participado en integraciones de
							facturación electrónica, mensajería y telecomunicaciones. Me
							motiva construir productos digitales útiles y bien pensados,
							cuidando cada detalle para ofrecer la mejor experiencia al usuario
							y un código de calidad.
						</p>
					</div>
				</div>
			</section>

			<!-- Sección de Experiencia Laboral -->
			<section id="work" class="work-experience" #section>
				<div
					class="work-experience-content"
					[class]="getAnimationClasses('work')"
				>
					<h2>Experiencia Laboral</h2>

					<!-- Mensaje cuando no hay experiencias -->
					<div class="no-data-message" *ngIf="getActiveWorks().length === 0">
						<p>No hay experiencias laborales disponibles en este momento.</p>
					</div>

					<!-- Lista de experiencias -->
					<ng-container *ngFor="let work of getActiveWorks(); let i = index">
						<app-work-card
							[work]="work"
							[style.animation-delay]="i * 0.2 + 's'"
						>
						</app-work-card>
					</ng-container>

					<!-- Enlace para descargar CV -->
					<div class="curriculum-section">
						<span class="curriculum-link" (click)="downloadPDF()">
							📄 Descargar Curriculum PDF
						</span>
					</div>
				</div>
			</section>

			<!-- Sección de Proyectos -->
			<section id="projects" class="projects" #section>
				<div class="projects-content" [class]="getAnimationClasses('projects')">
					<h2>Proyectos</h2>

					<!-- Mensaje cuando no hay proyectos -->
					<div class="no-data-message" *ngIf="getAllProjects().length === 0">
						<p>No hay proyectos disponibles en este momento.</p>
					</div>

					<!-- Lista de proyectos -->
					<ng-container *ngFor="let project of getAllProjects(); let i = index">
						<app-project-card
							[project]="project"
							[style.animation-delay]="i * 0.15 + 's'"
						>
						</app-project-card>
					</ng-container>
				</div>
			</section>

			<!-- Footer -->
			<footer class="footer-content">
				Diseñado y codificado en Visual Studio Code por mí mismo. Construido con
				Angular y CSS. Todo el texto está configurado en la tipografía Inter.
			</footer>
		</main>
	</div>
</div>
